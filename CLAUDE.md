# ì‚¬ì£¼ ë¶€ìº ì‘ëª…ì†Œ í”„ë¡œì íŠ¸ ê°€ì´ë“œ

## í”„ë¡œì íŠ¸ ê°œìš”
ìƒë…„ì›”ì¼ì‹œë¡œ ì‚¬ì£¼ë¥¼ ë¶„ì„í•˜ê³  ì˜¤í–‰ ê¸°ë°˜ìœ¼ë¡œ ê°œì„±ìˆëŠ” ë¶€ìºëª…ì„ ì¶”ì²œí•´ì£¼ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

- **ì €ì¥ì†Œ**: https://github.com/JeonEunjung/saju-nickname
- **ë°°í¬ í™˜ê²½**: Vercel
- **API**: í•œêµ­ì²œë¬¸ì—°êµ¬ì› ìŒì–‘ë ¥ ì •ë³´ API

## ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- HTML5 + CSS3 (Vanilla JavaScript)
- ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ìµœì í™”)

### Backend
- Node.js + Express
- ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ (Vercel Functions)

### ì™¸ë¶€ API
- í•œêµ­ì²œë¬¸ì—°êµ¬ì› ìŒì–‘ë ¥ ì •ë³´ API (`/getlluninfo`)

### ë³´ì•ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬
- `express-rate-limit`: ë‹¤ì¸µ Rate Limiting
- `cors`: CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
- `dotenv`: í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
saju-nickname/
â”œâ”€â”€ index.html           # ë©”ì¸ í˜ì´ì§€
â”œâ”€â”€ style.css           # ì „ì—­ ìŠ¤íƒ€ì¼
â”œâ”€â”€ app.js              # í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§
â”œâ”€â”€ server.js           # Express ì„œë²„ (ë¡œì»¬ ê°œë°œìš©)
â”œâ”€â”€ api/
â”‚   â””â”€â”€ saju.js         # Vercel ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜
â”œâ”€â”€ saju-api.js         # ì‚¬ì£¼ API í†µì‹  ë¡œì§
â”œâ”€â”€ saju.js             # ì‚¬ì£¼ ë¶„ì„ ë¡œì§
â”œâ”€â”€ nickname*.js        # ë¶€ìºëª… ìƒì„± ë¡œì§ (ì—¬ëŸ¬ ë²„ì „)
â”œâ”€â”€ SECURITY.md         # ë³´ì•ˆ ë¬¸ì„œ
â””â”€â”€ VERCEL_SETUP.md     # Vercel ë°°í¬ ê°€ì´ë“œ
```

### í•µì‹¬ íŒŒì¼

- **[index.html](index.html)**: ì „ì²´ UI êµ¬ì¡° (ìŠ¤íƒ€ì¼ ì„ íƒ, ê²°ê³¼ í‘œì‹œ)
- **[app.js](app.js)**: ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬ ë° API í˜¸ì¶œ
- **[saju-api.js](saju-api.js)**: í•œêµ­ì²œë¬¸ì—°êµ¬ì› API í†µì‹  + ìºì‹±
- **[saju.js](saju.js)**: ì‚¬ì£¼íŒ”ì ê³„ì‚° ë¡œì§ (ì˜¤í–‰ ë¶„ì„)
- **[nickname-advanced.js](nickname-advanced.js)**: ë¶€ìºëª… ìƒì„± ì•Œê³ ë¦¬ì¦˜
- **[api/saju.js](api/saju.js)**: Vercel ë°°í¬ìš© ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜

## ì£¼ìš” ê¸°ëŠ¥

### 1. ì‚¬ì£¼ ë¶„ì„
- ìƒë…„ì›”ì¼ì‹œ â†’ ìŒë ¥ ë³€í™˜ (í•œêµ­ì²œë¬¸ì—°êµ¬ì› API)
- ì‚¬ì£¼íŒ”ì ê³„ì‚° (ë…„ì£¼, ì›”ì£¼, ì¼ì£¼, ì‹œì£¼)
- ì˜¤í–‰ ë¶„ì„ (ëª©, í™”, í† , ê¸ˆ, ìˆ˜)

### 2. ë¶€ìºëª… ì¶”ì²œ (í•µì‹¬ ê¸°ëŠ¥)

#### ë³„ëª… ìƒì„± ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

**í•µì‹¬ ì›ë¦¬**: 18ê°€ì§€ ì¡°í•© í…œí”Œë¦¿ Ã— ìƒë…„ì›”ì¼ ì‹œë“œ Ã— 500ê°œ ì´ìƒ í‚¤ì›Œë“œ

##### í‚¤ì›Œë“œ ë°ì´í„°ë² ì´ìŠ¤ ([enhanced-keywords.js](enhanced-keywords.js))

ì˜¤í–‰ë³„ë¡œ 8ê°œ ì¹´í…Œê³ ë¦¬ Ã— í‰ê·  15ê°œ ì´ìƒ = **500ê°œ ì´ìƒ í‚¤ì›Œë“œ**:

| ì¹´í…Œê³ ë¦¬ | ëª©æœ¨ ì˜ˆì‹œ | ê°œìˆ˜ |
|---------|---------|------|
| í˜•ìš©ì‚¬ | í‘¸ë¥¸, ì‹±ê·¸ëŸ¬ìš´, ìƒë™í•˜ëŠ”, ìœ ì—°í•œ | 30ê°œ |
| ëª…ì‚¬ | ë‚˜ë¬´, ìˆ², ìƒˆì‹¹, ì†Œë‚˜ë¬´, ê½ƒ | 40ê°œ |
| ì ‘ë‘ì‚¬ | ì‹ ë¡, ì²­ë¡, ì´ˆë¡, ë¹„ì·¨ | 8ê°œ |
| ì ‘ë¯¸ì‚¬ | ì˜ì‹ , ì§€ê¸°, ìˆ˜í˜¸ì, ì™• | 7ê°œ |
| í•œì | æ—(ë¦¼), æ£®(ì‚¼), æœ¨(ëª©), æŸ³(ë¥˜) | ì„±10ê°œ+ëª…20ê°œ |
| ìì—°ë¬¼ | ë¹„ì·¨, ì—ë©”ë„ë“œ, ì˜¥, ë…¹ë³´ì„ | 6ê°œ |
| ë™ë¬¼ | ì²­ë£¡, í‘¸ë¥¸ìƒˆ, ì²­ì¡°, ê°œêµ¬ë¦¬ | 6ê°œ |
| ì¶”ìƒê°œë… | ì„±ì¥, ë°œì „, í¬ë§, ë¯¸ë˜ | 8ê°œ |

##### 18ê°€ì§€ ì¡°í•© í…œí”Œë¦¿ ([nickname-improved.js:76-223](nickname-improved.js#L76-L223))

```javascript
// ì˜ˆì‹œ í…œí”Œë¦¿ë“¤:
1. í˜•ìš©ì‚¬ + ëª…ì‚¬: "í‘¸ë¥¸ë‚˜ë¬´", "ë¶‰ì€ë¶ˆê½ƒ"
2. ì ‘ë‘ì‚¬ + ì¼ê°„íŠ¹ì„±: "ì‹ ë¡ë¦¬ë”", "í™”ì—¼ì „ì‚¬"
3. ëª…ì‚¬ + ì ‘ë¯¸ì‚¬: "ë‚˜ë¬´ìˆ˜í˜¸ì", "ë¶ˆê½ƒì™•"
4. í˜•ìš©ì‚¬ + ì¼ê°„íŠ¹ì„±: "í‘¸ë¥¸ëŒ€ì¥", "ëœ¨ê±°ìš´ìŠ¤íƒ€"
6. ìì—°ë¬¼ + íŠ¹ì„±: "ì—ë©”ë„ë“œë¦¬ë”", "ë£¨ë¹„ì—´ì •ì™•"
7. ë™ë¬¼ ëª…ì¹­: "ì²­ë£¡", "ì£¼ì‘", "ë°±í˜¸"
11. í•œì ì´ë¦„(ì„±+ëª…): "ë¦¼ëª©(æ—æœ¨)", "ì—¼í™”(ç‚ç«)"
// ... ì´ 18ê°€ì§€ íŒ¨í„´
```

##### ìƒë…„ì›”ì¼ ì‹œë“œ ì‹œìŠ¤í…œ ([nickname-improved.js:12-28](nickname-improved.js#L12-L28))

```javascript
// ìƒë…„ì›”ì¼ë¡œ ê³ ìœ  ì‹œë“œ ìƒì„±
let seed = generateSeedFromBirthdate(year, month, day, hour);

// ìŠ¤íƒ€ì¼ ì„ íƒë„ ì‹œë“œì— ë°˜ì˜
if (stylePreferences && stylePreferences.size > 0) {
    seed += styleString.charCodeAt(i); // ìŠ¤íƒ€ì¼ë§ˆë‹¤ ì‹œë“œ ë³€ê²½
}

this.random = new SeededRandom(seed); // ì˜ì‚¬ ëœë¤ ìƒì„±ê¸°
```

**íŠ¹ì§•:**
- âœ… ê°™ì€ ìƒì¼ = ê°™ì€ ì‹œë“œ = **í•­ìƒ ë™ì¼í•œ ë³„ëª…**
- âœ… ìŠ¤íƒ€ì¼ ì„ íƒ ë³€ê²½ = ì‹œë“œ ë³€ê²½ = **ë‹¤ë¥¸ ë³„ëª… ì„¸íŠ¸**
- âœ… ìƒˆë¡œê³ ì¹¨í•´ë„ **ê²°ê³¼ ì¼ì •** (ì‚¬ìš©ì ê²½í—˜ ê°œì„ )

##### ì¤‘ë³µ ë°©ì§€ ì‹œìŠ¤í…œ ([nickname-improved.js:226-252](nickname-improved.js#L226-L252))

```javascript
this.generatedNicknames = new Set(); // ì´ë¯¸ ìƒì„±ëœ ë³„ëª… ì¶”ì 

// ìµœëŒ€ 50ë²ˆ ì‹œë„í•´ì„œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ë³„ëª… ìƒì„±
generateUniqueNickname(element, isWeak, maxAttempts = 50) {
    for (let attempt = 0; attempt < maxAttempts; attempt++) {
        const nickname = template();
        if (!this.generatedNicknames.has(nickname)) {
            this.generatedNicknames.add(nickname);
            return nickname;
        }
    }
}
```

**í•œ ì„¸ì…˜ì—ì„œ ìƒì„±ë˜ëŠ” 5ê°œ ë³„ëª…ì€ ì ˆëŒ€ ì¤‘ë³µë˜ì§€ ì•ŠìŒ**

##### ìŠ¤íƒ€ì¼ í•„í„° ì‹œìŠ¤í…œ ([nickname-improved.js:34-74](nickname-improved.js#L34-L74))

ì‚¬ìš©ìê°€ "ì²­ìˆœ", "ì¹´ë¦¬ìŠ¤ë§ˆ", "ìœ ë¨¸" ê°™ì€ ìŠ¤íƒ€ì¼ ì„ íƒ ì‹œ:

```javascript
// 80% í™•ë¥ ë¡œ ìŠ¤íƒ€ì¼ ë§¤ì¹­ë˜ëŠ” í‚¤ì›Œë“œ ìš°ì„  ì„ íƒ
if (this.random.next() < 0.8) {
    available = styleMatched; // ìŠ¤íƒ€ì¼ í‚¤ì›Œë“œë§Œ í•„í„°ë§
}
```

**ì˜ˆì‹œ:**
- "ì²­ìˆœ" â†’ `["ë§‘ì€", "ê³ ìš´", "ìˆœìˆ˜í•œ", "íˆ¬ëª…í•œ"]` í‚¤ì›Œë“œ ìš°ì„ 
- "ì¹´ë¦¬ìŠ¤ë§ˆ" â†’ `["ê°•í•œ", "ëœ¨ê±°ìš´", "ë‚ ì¹´ë¡œìš´", "ë¦¬ë”"]` í‚¤ì›Œë“œ ìš°ì„ 

##### ìƒì„± íë¦„ ì˜ˆì‹œ

```
ì‚¬ìš©ì ì…ë ¥: 1990ë…„ 6ì›” 15ì¼ 6ì‹œ
â†“
ì‚¬ì£¼ ê³„ì‚°: ì¼ê°„ ê°‘(æœ¨), ê°•í•œ ì˜¤í–‰ ëª©æœ¨, ì•½í•œ ì˜¤í–‰ ê¸ˆé‡‘
â†“
ğŸ’ª ê°•ì  ê·¹ëŒ€í™”í˜• (ëª©æœ¨ í‚¤ì›Œë“œ ì‚¬ìš©):
  - Template 1: "í˜•ìš©ì‚¬+ëª…ì‚¬" â†’ "í‘¸ë¥¸ë‚˜ë¬´"
  - Template 11: "í•œìì´ë¦„" â†’ "ë¦¼ëª©(æ—æœ¨)"
  - Template 6: "ìì—°ë¬¼+íŠ¹ì„±" â†’ "ì—ë©”ë„ë“œë¦¬ë”"
  - Template 3: "ëª…ì‚¬+ì ‘ë¯¸ì‚¬" â†’ "ìˆ²ìˆ˜í˜¸ì"
  - Template 13: "í˜•ìš©ì‚¬+ì¶”ìƒê°œë…" â†’ "ì‹±ê·¸ëŸ¬ìš´í¬ë§"
â†“
âš–ï¸ ê· í˜• ë³´ì™„í˜• (ê¸ˆé‡‘ í‚¤ì›Œë“œ ì‚¬ìš©):
  - "ë°±ê¸ˆë¦¬ë”", "ê¸ˆê°•(é‡‘å‰›)", "ë‹¤ì´ì•„ëŒ€ì¥", ...
```

#### ë‘ ê°€ì§€ ì¶”ì²œ ì „ëµ

- **ğŸ’ª ë‚´ íŠ¹ì„± ì‚´ë¦¬ê¸°**: ê°•í•œ ì˜¤í–‰(ì¼ê°„) í‚¤ì›Œë“œë¡œ ê°œì„± ê·¹ëŒ€í™”
- **âš–ï¸ ë¶€ì¡±í•œ ê¸°ìš´ ì±„ìš°ê¸°**: ì•½í•œ ì˜¤í–‰ í‚¤ì›Œë“œë¡œ ê· í˜• ë³´ì™„

#### ê´€ë ¨ íŒŒì¼

- [nickname-improved.js](nickname-improved.js) - ë©”ì¸ ìƒì„± ë¡œì§ (í˜„ì¬ ì‚¬ìš© ì¤‘)
- [enhanced-keywords.js](enhanced-keywords.js) - 500ê°œ í‚¤ì›Œë“œ DB
- [seeded-random.js](seeded-random.js) - ìƒë…„ì›”ì¼ ì‹œë“œ ëœë¤ ìƒì„±ê¸°
- [app.js:233-252](app.js#L233-L252) - ìƒì„± í•¨ìˆ˜ í˜¸ì¶œë¶€
- [nickname-advanced.js](nickname-advanced.js) - êµ¬ë²„ì „ ìƒì„±ê¸° (ë¯¸ì‚¬ìš©)

### 3. ë³´ì•ˆ ê¸°ëŠ¥
- ë‹¤ì¸µ Rate Limiting (per-IP, Global, Long-term)
- CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
- ì‘ë‹µ ìºì‹± (1ì‹œê°„, ìµœëŒ€ 1000ê°œ)
- ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬

## ê°œë°œ ëª…ë ¹ì–´

```bash
# ë¡œì»¬ ê°œë°œ
npm install
npm start
# http://localhost:3000

# Vercel ë°°í¬
vercel --prod
```

## ì½”ë”© ê°€ì´ë“œë¼ì¸

### JavaScript ìŠ¤íƒ€ì¼
- ES6+ ë¬¸ë²• ì‚¬ìš© (const/let, í™”ì‚´í‘œ í•¨ìˆ˜)
- ëª…í™•í•œ ë³€ìˆ˜ëª… (í•œê¸€ ì£¼ì„ ì ê·¹ í™œìš©)
- í•¨ìˆ˜ëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™

### ë„¤ì´ë° ì»¨ë²¤ì…˜
- ë³€ìˆ˜/í•¨ìˆ˜: camelCase (`generateNickname`)
- ìƒìˆ˜: UPPER_SNAKE_CASE (`RATE_LIMIT_MAX`)
- í•œê¸€ í‚¤: ê·¸ëŒ€ë¡œ ì‚¬ìš© (`ì˜¤í–‰ë¶„ì„`, `ì¶”ì²œë¶€ìºëª…`)

### ì—ëŸ¬ ì²˜ë¦¬
- API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€
- Rate Limit ì´ˆê³¼ ì‹œ ëª…í™•í•œ ì•ˆë‚´
- ì˜ëª»ëœ ë‚ ì§œ ì…ë ¥ ì‹œ ì¦‰ì‹œ ê²€ì¦

### ë³´ì•ˆ ì›ì¹™
- **ì ˆëŒ€ ê¸ˆì§€**: API í‚¤ë¥¼ ì½”ë“œì— í•˜ë“œì½”ë”©
- **í•„ìˆ˜**: ëª¨ë“  ì™¸ë¶€ API í˜¸ì¶œì€ ë°±ì—”ë“œì—ì„œë§Œ
- **ê¶Œì¥**: Rate Limit ì„¤ì •ì€ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬

## í™˜ê²½ë³€ìˆ˜ (.env)

```bash
# í•œêµ­ì²œë¬¸ì—°êµ¬ì› API í‚¤ (í•„ìˆ˜)
KASI_API_KEY=your_api_key_here

# Rate Limiting ì„¤ì • (ì„ íƒ)
RATE_LIMIT_MAX_REQUESTS=10        # per-IP: 1ë¶„ë‹¹ ìµœëŒ€ ìš”ì²­
RATE_LIMIT_WINDOW_MS=60000        # ì‹œê°„ ìœˆë„ìš° (1ë¶„)
GLOBAL_API_LIMIT=50               # ì „ì²´ ì„œë²„: 1ë¶„ë‹¹ ìµœëŒ€ API í˜¸ì¶œ
GENERAL_RATE_LIMIT_MAX=100        # per-IP: 15ë¶„ë‹¹ ìµœëŒ€ ìš”ì²­
GENERAL_RATE_LIMIT_WINDOW_MS=900000  # 15ë¶„
```

## ë³´ì•ˆ ì •ì±…

### Rate Limiting ê³„ì¸µ

1. **Tier 1 (per-IP)**: 1ë¶„ë‹¹ 10íšŒ
   - ê°œë³„ ì‚¬ìš©ì ê³¼ë„í•œ ìš”ì²­ ì°¨ë‹¨

2. **Tier 2 (Global)**: 1ë¶„ë‹¹ 50íšŒ
   - ë¶„ì‚° ë´‡ë„· ê³µê²© ë°©ì–´ (1000ê°œ IPì—ì„œ ê³µê²©í•´ë„ 50íšŒë¡œ ì œí•œ)

3. **Tier 3 (Long-term)**: 15ë¶„ë‹¹ 100íšŒ
   - ì¥ê¸°ê°„ ìŠ¤í¬ë˜í•‘ ë°©ì§€

### CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
```javascript
í—ˆìš© ë„ë©”ì¸:
- http://localhost:3000
- http://localhost:5173
- https://saju-nickname.vercel.app
- https://*.vercel.app
```

### ìºì‹± ì „ëµ
- **ìºì‹œ ê¸°ê°„**: 1ì‹œê°„
- **ìµœëŒ€ í•­ëª©**: 1,000ê°œ
- **íš¨ê³¼**: ê°™ì€ ìƒë…„ì›”ì¼ ì¬ì¡°íšŒ ì‹œ API í˜¸ì¶œ ì—†ìŒ

ìƒì„¸ ë‚´ìš©: [SECURITY.md](SECURITY.md)

## ì•Œë ¤ì§„ ì´ìŠˆ ë° TODO

### í˜„ì¬ ìƒíƒœ
- âœ… ê¸°ë³¸ ì‚¬ì£¼ ë¶„ì„ ì™„ë£Œ
- âœ… ìŠ¤íƒ€ì¼ ê¸°ë°˜ ë¶€ìºëª… ìƒì„± ì™„ë£Œ
- âœ… ë³´ì•ˆ ê°•í™” (DDoS ë°©ì–´) ì™„ë£Œ
- âœ… Vercel ë°°í¬ ì™„ë£Œ

### í–¥í›„ ê°œì„  ì‚¬í•­
- [ ] Redis ìºì‹± (ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ìºì‹œ ìœ ì§€)
- [ ] Cloudflare ì¶”ê°€ (ì¶”ê°€ DDoS ë°©ì–´)
- [ ] ë¶€ìºëª… ë‹¤ì–‘ì„± ê°œì„  (ë” ë§ì€ í‚¤ì›Œë“œ ì¶”ê°€)
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ê¸°ëŠ¥ (ì¢‹ì•„ìš”/ì‹«ì–´ìš”)
- [ ] SNS ê³µìœ  ê¸°ëŠ¥

## ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

### Q: API í˜¸ì¶œì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤
**A**: ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:
1. `.env` íŒŒì¼ì— `KASI_API_KEY`ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€
2. Vercel í™˜ê²½ë³€ìˆ˜ì— API í‚¤ê°€ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€
3. í•œêµ­ì²œë¬¸ì—°êµ¬ì› APIê°€ ì •ìƒ ì‘ë™ ì¤‘ì¸ì§€

### Q: Rate Limit ì—ëŸ¬ê°€ ìì£¼ ë°œìƒí•©ë‹ˆë‹¤
**A**: ê°œë°œ ì¤‘ì—ëŠ” [server.js:32-50](server.js#L32-L50)ì˜ Rate Limit ì„¤ì •ì„ ì™„í™”í•˜ì„¸ìš”:
```javascript
max: 100,  // 10 â†’ 100ìœ¼ë¡œ ì¦ê°€
```

### Q: ë¶€ìºëª…ì´ ì´ìƒí•˜ê²Œ ë‚˜ì˜µë‹ˆë‹¤
**A**: [nickname-advanced.js](nickname-advanced.js)ì˜ í‚¤ì›Œë“œ ë§µí•‘ì„ í™•ì¸í•˜ì„¸ìš”. ìŠ¤íƒ€ì¼ë³„ë¡œ ì ì ˆí•œ í‚¤ì›Œë“œê°€ ë§¤í•‘ë˜ì–´ ìˆëŠ”ì§€ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.

## ë°°í¬ ê°€ì´ë“œ

### Vercel ë°°í¬
1. GitHub ì €ì¥ì†Œ ì—°ê²°
2. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`KASI_API_KEY`)
3. `vercel.json` ì„¤ì • í™•ì¸
4. ìë™ ë°°í¬

ìƒì„¸ ê°€ì´ë“œ: [VERCEL_SETUP.md](VERCEL_SETUP.md)

## ê¸´ê¸‰ ëŒ€ì‘

### ê³¼ë„í•œ íŠ¸ë˜í”½ ê°ì§€ ì‹œ
```bash
# Vercel í™˜ê²½ë³€ìˆ˜ ì¦‰ì‹œ ë³€ê²½
GLOBAL_API_LIMIT=10  # 50 â†’ 10ìœ¼ë¡œ ê°•í™”
```

### API í‚¤ ë„ìš© ì˜ì‹¬ ì‹œ
1. í•œêµ­ì²œë¬¸ì—°êµ¬ì› í¬í„¸ì—ì„œ ê¸°ì¡´ í‚¤ ì‚­ì œ
2. ìƒˆ API í‚¤ ë°œê¸‰
3. Vercel í™˜ê²½ë³€ìˆ˜ ì—…ë°ì´íŠ¸

### ì„œë¹„ìŠ¤ ì™„ì „ ì¤‘ë‹¨
```bash
GLOBAL_API_LIMIT=0  # ëª¨ë“  API ìš”ì²­ ì°¨ë‹¨
```

## íŒ€ ì‘ì—… ê·œì¹™

### Commit ë©”ì‹œì§€
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
security: ë³´ì•ˆ ê°•í™”
style: UI/CSS ë³€ê²½
docs: ë¬¸ì„œ ì—…ë°ì´íŠ¸
refactor: ë¦¬íŒ©í† ë§
```

### ë¸Œëœì¹˜ ì „ëµ
- `main`: í”„ë¡œë•ì…˜ (Vercel ìë™ ë°°í¬)
- `dev`: ê°œë°œ ë¸Œëœì¹˜ (í…ŒìŠ¤íŠ¸ í›„ mainì— ë¨¸ì§€)

### ì£¼ì˜ì‚¬í•­
- âš ï¸ API í‚¤ëŠ” ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ì•Šê¸° (`.gitignore`ì— `.env` í¬í•¨)
- âš ï¸ `main` ë¸Œëœì¹˜ì— ê°•ì œ í‘¸ì‹œ ìµœì†Œí™” (íŒ€ì›ê³¼ ì¶©ëŒ)
- âš ï¸ ë³´ì•ˆ ê´€ë ¨ ë³€ê²½ì€ [SECURITY.md](SECURITY.md) ë¬¸ì„œ ì—…ë°ì´íŠ¸

## ì—°ë½ì²˜ ë° ì°¸ê³  ìë£Œ

- í•œêµ­ì²œë¬¸ì—°êµ¬ì› API: https://www.kasi.re.kr/
- Vercel ë¬¸ì„œ: https://vercel.com/docs
- Express Rate Limit: https://github.com/express-rate-limit/express-rate-limit

---

## ìµœê·¼ ì—…ë°ì´íŠ¸ (2025-12-11)

### UI/UX ê°œì„ 

#### 1. ì…ë ¥ í¼ ì»´íŒ©íŠ¸í™” ([index.html:93-152](index.html#L93-L152), [style.css:161-170](style.css#L161-L170))

**ë³€ê²½ ì „**: ë…„/ì›”/ì¼/ì‹œ/ì„±ë³„ì´ ì„¸ë¡œë¡œ ê¸´ ë ˆì´ì•„ì›ƒ
**ë³€ê²½ í›„**: ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ 2ì¤„ë¡œ ì••ì¶•

```html
<!-- 1í–‰: ë…„ë„(2fr), ì›”(1fr), ì¼(1fr) -->
<div class="form-row">
    <div class="form-group">ë…„ë„</div>
    <div class="form-group">ì›”</div>
    <div class="form-group">ì¼</div>
</div>

<!-- 2í–‰: ì‹œê°„(2fr), ì„±ë³„(1fr) -->
<div class="form-row">
    <div class="form-group">ì‹œê°„</div>
    <div class="form-group">ì„±ë³„</div>
</div>
```

**CSS êµ¬í˜„**:
```css
.form-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr; /* ë…„ë„ë¥¼ ë” ë„“ê²Œ */
    gap: var(--space-3);
}

.form-row:last-of-type {
    grid-template-columns: 2fr 1fr; /* ì‹œê°„, ì„±ë³„ ë‘ ì¹¼ëŸ¼ */
}

/* ëª¨ë°”ì¼: 768px ì´í•˜ì—ì„œ ì„¸ë¡œ ìŠ¤íƒ */
@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
}
```

**íš¨ê³¼**: ì•½ 60% ìˆ˜ì§ ê³µê°„ ì ˆì•½

#### 2. ì…€ë ‰íŠ¸ ë°•ìŠ¤ í™”ì‚´í‘œ ê°œì„  ([style.css:189-196](style.css#L189-L196))

**ë¬¸ì œ**: ê¸°ë³¸ ë¸Œë¼ìš°ì € í™”ì‚´í‘œê°€ í…ìŠ¤íŠ¸ì— ë¶™ì–´ì„œ í‘œì‹œë¨
**í•´ê²°**: ì»¤ìŠ¤í…€ SVG í™”ì‚´í‘œ + ì˜¤ë¥¸ìª½ íŒ¨ë”© ì¶”ê°€

```css
.form-group select {
    padding-right: var(--space-10); /* 40px ê³µê°„ í™•ë³´ */
    appearance: none; /* ê¸°ë³¸ í™”ì‚´í‘œ ì œê±° */
    background-image: url("data:image/svg+xml..."); /* ì»¤ìŠ¤í…€ í™”ì‚´í‘œ */
    background-position: right var(--space-4) center;
    background-size: 20px;
}
```

#### 3. ì‚¬ì£¼íŒ”ì ìƒ‰ìƒ ê°œë³„ ì ìš© ([app.js:75-117](app.js#L75-L117))

**ë³€ê²½ ì „**: ê° ê¸°ë‘¥(ì‹œì£¼, ì¼ì£¼, ì›”ì£¼, ë…„ì£¼)ì´ ë‹¨ì¼ ìƒ‰ìƒ
**ë³€ê²½ í›„**: ì²œê°„ê³¼ ì§€ì§€ ê°ê°ì˜ ì˜¤í–‰ì— ë§ëŠ” ìƒ‰ìƒ ì ìš©

```javascript
// ê° ê¸€ìë§ˆë‹¤ ê°œë³„ ì˜¤í–‰ ìƒ‰ìƒ ì ìš©
<span class="${ELEMENT_PROPERTIES[FIVE_ELEMENTS[saju.hour.stem]].color}">${saju.hour.stem}</span>
<br>
<span class="${ELEMENT_PROPERTIES[FIVE_ELEMENTS[saju.hour.branch]].color}">${saju.hour.branch}</span>
```

**ì˜ˆì‹œ**: ì‹œì£¼ê°€ "ê°‘ì"ì¼ ë•Œ
- ê°‘(ç”²) = ëª©æœ¨ â†’ ì´ˆë¡ìƒ‰
- ì(å­) = ìˆ˜æ°´ â†’ íŒŒë€ìƒ‰

### ìš°ì£¼ í…Œë§ˆ ì‹œìŠ¤í…œ êµ¬í˜„ ([style.css:88-267](style.css#L88-L267), [app.js:310-341](app.js#L310-L341))

#### í…Œë§ˆ A: ë³„ì´ ë¹›ë‚˜ëŠ” ë°¤í•˜ëŠ˜ (Starry Night)

```css
body[data-theme="starry"] {
    background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
}

body[data-theme="starry"]::before {
    /* ë°˜ì§ì´ëŠ” ë³„ íŒ¨í„´ */
    background-image: radial-gradient(2px 2px at 20px 30px, white, transparent), ...;
    background-size: 200px 200px;
    animation: twinkle 3s infinite;
}
```

**íŠ¹ì§•**:
- ê¹Šì€ ë‚¨ìƒ‰ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½
- ë³„ ë°˜ì§ì„ ì• ë‹ˆë©”ì´ì…˜ (3ì´ˆ ì£¼ê¸°)
- ê³ ìš”í•˜ê³  ì°¨ë¶„í•œ ëŠë‚Œ

#### í…Œë§ˆ B: ì€í•˜ìˆ˜ (Milky Way)

```css
body[data-theme="galaxy"] {
    background: linear-gradient(135deg,
        #1a0033 0%,   /* ë³´ë¼ */
        #2d1b4e 25%,  /* ì§„í•œ ë³´ë¼ */
        #0f2557 50%,  /* ë‚¨ìƒ‰ */
        #1a4d5c 75%,  /* ì²­ë¡ */
        #0d1117 100%  /* ê²€ì • */
    );
}

body[data-theme="galaxy"]::before {
    /* ì›€ì§ì´ëŠ” ìƒ‰ìƒ ì˜¤ë¼ */
    background: radial-gradient(circle at 20% 50%, rgba(139, 61, 255, 0.3), transparent), ...;
    animation: galaxyMove 20s ease-in-out infinite;
}

body[data-theme="galaxy"]::after {
    /* ë– ë‹¤ë‹ˆëŠ” ë¹› ì…ì */
    background-image: radial-gradient(...);
    animation: floatParticles 60s linear infinite;
}
```

**íŠ¹ì§•**:
- ë³´ë¼-ì²­ë¡ ê·¸ë¼ë°ì´ì…˜ (ìš°ì£¼ ì„±ìš´)
- ì›€ì§ì´ëŠ” ìƒ‰ìƒ ì˜¤ë¼ (20ì´ˆ ì£¼ê¸°)
- ë– ë‹¤ë‹ˆëŠ” ë¹› ì…ì íš¨ê³¼
- ê°€ì¥ í™”ë ¤í•˜ê³  ì—­ë™ì 

#### í…Œë§ˆ C: ì‹¬í”Œ ìŠ¤íƒ€ë”ìŠ¤íŠ¸ (Simple Stardust)

```css
body[data-theme="stardust"] {
    background: #000000; /* ìˆœìˆ˜í•œ ê²€ì • */
}

body[data-theme="stardust"]::before {
    /* ë¯¸ì„¸í•œ ë³„ íŒ¨í„´ë§Œ */
    background-image: radial-gradient(1px 1px at 25% 25%, rgba(255, 255, 255, 0.3), transparent), ...;
    opacity: 0.4;
}
```

**íŠ¹ì§•**:
- ìˆœìˆ˜í•œ ê²€ì€ìƒ‰ ë°°ê²½
- ë¯¸ì„¸í•œ ë³„ íŒ¨í„´ë§Œ ì¶”ê°€
- ë¯¸ë‹ˆë©€í•˜ê³  ì ˆì œëœ ë””ìì¸
- í˜„ì¬ Revolut í…Œë§ˆì™€ ê°€ì¥ ìœ ì‚¬

#### í…Œë§ˆ ì „í™˜ ì‹œìŠ¤í…œ

**HTML êµ¬ì¡°** ([index.html:10-15](index.html#L10-L15)):
```html
<div class="theme-switcher">
    <button class="theme-btn active" data-theme="starry">A: ë³„ë¹›</button>
    <button class="theme-btn" data-theme="galaxy">B: ì€í•˜ìˆ˜</button>
    <button class="theme-btn" data-theme="stardust">C: ìŠ¤íƒ€ë”ìŠ¤íŠ¸</button>
</div>
```

**JavaScript ë¡œì§** ([app.js:310-341](app.js#L310-L341)):
```javascript
// ì €ì¥ëœ í…Œë§ˆ ë¶ˆëŸ¬ì˜¤ê¸°
const savedTheme = localStorage.getItem('cosmicTheme') || 'starry';
document.body.setAttribute('data-theme', savedTheme);

// í…Œë§ˆ ì „í™˜ ì´ë²¤íŠ¸
document.querySelectorAll('.theme-btn').forEach(button => {
    button.addEventListener('click', function() {
        const theme = this.dataset.theme;
        document.body.setAttribute('data-theme', theme);
        localStorage.setItem('cosmicTheme', theme);
    });
});
```

**ê¸°ëŠ¥**:
- ìš°ì¸¡ ìƒë‹¨ ê³ ì • ë²„íŠ¼ (ëª¨ë°”ì¼ ë°˜ì‘í˜•)
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì„ íƒ ì €ì¥ (ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìœ ì§€)
- ë¶€ë“œëŸ¬ìš´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (0.5s)
- z-index ê´€ë¦¬ë¡œ í•­ìƒ ìµœìƒë‹¨ í‘œì‹œ

**ì‚¬ìš©ì„±**:
- ë°ìŠ¤í¬í†±: ìš°ì¸¡ ìƒë‹¨ ë²„íŠ¼
- ëª¨ë°”ì¼: ë” ì‘ì€ í¬ê¸°ë¡œ ì¡°ì • (11px í°íŠ¸)
- í„°ì¹˜ ì¹œí™”ì  ë²„íŠ¼ í¬ê¸° (ìµœì†Œ 44px)

### íŒŒì¼ ë³€ê²½ ì´ë ¥

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© | ë¼ì¸ |
|------|---------|------|
| [index.html](index.html) | í…Œë§ˆ ì „í™˜ ë²„íŠ¼ ì¶”ê°€ | 10-15 |
| [index.html](index.html) | ì…ë ¥ í¼ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ | 93-152 |
| [style.css](style.css) | í…Œë§ˆ ì „í™˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ | 88-124 |
| [style.css](style.css) | ìš°ì£¼ í…Œë§ˆ 3ì¢… êµ¬í˜„ | 126-267 |
| [style.css](style.css) | ì…ë ¥ í¼ ê·¸ë¦¬ë“œ CSS | 161-170 |
| [style.css](style.css) | ì…€ë ‰íŠ¸ í™”ì‚´í‘œ ì»¤ìŠ¤í„°ë§ˆì´ì§• | 189-196 |
| [style.css](style.css) | ëª¨ë°”ì¼ ë°˜ì‘í˜• (í…Œë§ˆ ë²„íŠ¼) | 500-511 |
| [app.js](app.js) | ì‚¬ì£¼íŒ”ì ê°œë³„ ìƒ‰ìƒ ì ìš© | 75-117 |
| [app.js](app.js) | í…Œë§ˆ ì „í™˜ ì‹œìŠ¤í…œ êµ¬í˜„ | 310-363 |

### ë””ìì¸ ì² í•™

**ì‚¬ì£¼ = í•˜ëŠ˜ì„ ì½ëŠ” í–‰ìœ„**
- ê²€ì€ ë°°ê²½: ë°¤í•˜ëŠ˜ì„ ìƒì§•
- ë³´ë¼ìƒ‰ í”„ë¼ì´ë¨¸ë¦¬ ì»¬ëŸ¬: ì‹ ë¹„ë¡­ê³  ì˜ì ì¸ ëŠë‚Œ
- ë³„ê³¼ ì„±ìš´ íš¨ê³¼: ìš°ì£¼ì™€ ìš´ëª…ì˜ ì—°ê²° í‘œí˜„

**í…Œë§ˆë³„ íŠ¹ì§• ë¹„êµ**:

| í…Œë§ˆ | ë°°ê²½ | íš¨ê³¼ | ë¶„ìœ„ê¸° | ì¶”ì²œ ì‚¬ìš©ì |
|------|------|------|--------|-----------|
| A: ë³„ë¹› | ë‚¨ìƒ‰ ê·¸ë¼ë°ì´ì…˜ | ë°˜ì§ì´ëŠ” ë³„ | ì°¨ë¶„í•˜ê³  ê³ ìš”í•¨ | ì‹¬í”Œí•œ ë””ìì¸ ì„ í˜¸ |
| B: ì€í•˜ìˆ˜ | ë³´ë¼-ì²­ë¡ ê·¸ë¼ë°ì´ì…˜ | ì›€ì§ì´ëŠ” ì˜¤ë¼ + ì…ì | í™”ë ¤í•˜ê³  ì—­ë™ì  | í™”ë ¤í•œ ë””ìì¸ ì„ í˜¸ |
| C: ìŠ¤íƒ€ë”ìŠ¤íŠ¸ | ìˆœìˆ˜ ê²€ì • | ë¯¸ì„¸í•œ ë³„ë§Œ | ë¯¸ë‹ˆë©€í•˜ê³  ì ˆì œë¨ | ê¸°ì¡´ ë””ìì¸ ì„ í˜¸ |

### í–¥í›„ ê³ ë ¤ì‚¬í•­

1. **í…Œë§ˆ ìµœì¢… ì„ íƒ**: A/B/C ì¤‘ ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ìœ¼ë¡œ ì„ íƒ
2. **ì¶”ê°€ í…Œë§ˆ ê°€ëŠ¥ì„±**:
   - D: ë‚®í•˜ëŠ˜ í…Œë§ˆ (ë°ì€ ë°°ê²½)
   - E: ì„ì–‘ í…Œë§ˆ (ë”°ëœ»í•œ ìƒ‰ê°)
3. **ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥ ìµœì í™”**: ì €ì‚¬ì–‘ ê¸°ê¸° ëŒ€ì‘
4. **ì ‘ê·¼ì„±**: ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› ê³ ë ¤
